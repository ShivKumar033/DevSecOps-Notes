-  authentication mechanism designed specifically for machine-to-machine (M2M) and application-to-machine (A2M) scenarios.
- It allows automated services, CI/CD pipelines, and applications to securely authenticate with Vault using a two-part credential—a `RoleID` (username) and a `SecretID` (password)—to retrieve temporary, policy-based tokens.

### Mental Model
```bash
Policy  → permissions
Role    → app identity
RoleID  → username
SecretID→ password
Token   → session
```

### Step1. AppRole Setup
```bash
vault auth enable approle        # enable AppRole auth
```

### Step2. Role & Policy
```bash
vault policy write api-read api-read.hcl     # create policy
vault write auth/approle/role/api-role \
  token_policies="api-read" \
  token_ttl=1h token_max_ttl=4h              # create role
```

### Step3. RoleID / SecretID
```bash
# get RoleID (public)
vault read auth/approle/role/api-role/role-id

# Generate SecretID
vault write -f auth/approle/role/api-role/secret-id
```

### Step4. Login (Get Token)
```bash
vault write auth/approle/login \
  role_id=ROLE_ID \
  secret_id=SECRET_ID
```

### Step5. Use Token
```bash
export VAULT_TOKEN=s.xxxxx
vault kv get secret/api
```

### Step6. Secure AppRole (Best Practice)
```bash
vault write auth/approle/role/api-role \
  secret_id_ttl=60m \
  secret_id_num_uses=1 \
  token_num_uses=100 \
  bind_secret_id=true
```

### Step7. Rotate / Revoke
```bash
# Revoke SecretIDs
vault write auth/approle/role/api-role/secret-id/destroy-all

# revoke token
vault token revoke s.xxxxx

## delete role
vault delete auth/approle/role/api-role
```

